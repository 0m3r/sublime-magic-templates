<snippet>
    <content><![CDATA[
\$trace = debug_backtrace();
\$prefix = str_replace('index.php', '', \$_SERVER['DOCUMENT_ROOT'] . \$_SERVER['SCRIPT_NAME']);
\$prefix = str_replace('/', DIRECTORY_SEPARATOR, \$prefix);
\$output = '';
foreach (\$trace as \$call) {
    \$output .= sprintf(
        "<a href='%s' title='%s'>%s</a>",
        "subl://open?url=file://{\$call['file']}&line={\$call['line']}",
        \$call['file'],
        str_replace(\$prefix, '', \$call['file']) . ':' . \$call['line']
    );
    \$output .= "\n";
    \$args = array();
    foreach (\$call['args'] as \$arg) {
        if (is_object(\$arg) && get_class(\$arg)) {
            \$arg = get_class(\$arg);
        } else {
            switch (gettype(\$arg)) {
                case 'NULL':
                    \$arg = 'null';
                    break;
                case 'array':
                    \$arg = 'array';
                    break;
                case 'boolean':
                    \$arg = \$arg ? 'true' : 'false';
                    break;
                case 'string':
                    \$arg = '"' . \$arg . '"';
                    break;
                default:
                    // do nothing
            }
        }
        \$args[] = \$arg;
    }
    \$call['class']    = isset(\$call['class'])    ? \$call['class']    : '';
    \$call['type']     = isset(\$call['type'])     ? \$call['type']     : '';
    \$call['function'] = isset(\$call['function']) ? \$call['function'] : '';
    \$output .= \$call['class'] . \$call['type'] . \$call['function'] . '(' . implode(', ', \$args) . ')' . "\n\n";
}
echo '<pre>' . \$output . '</pre>';
${1:die;}
]]></content>
    <tabTrigger>debsubl</tabTrigger>
    <scope>source.php</scope>
</snippet>
